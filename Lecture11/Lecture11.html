<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald">

     <link rel="stylesheet" href="Lecture11style.css">
     <title>RECA 398 | Lecture 11</title>
  </head>
  
  <body>
    <nav>
        <a href="../Downloads.html">Downloads</a>
        <a href="../Slides.html">Slides</a>
        <a href="../Games.html">Games</a>
      </nav>
      
    <div class="lecture">
        <h2 class="lectureTitle">Lecture 11 - Sound Blitz</h2>
        <div class="lectureListContainer">
            <ol class="lectureList">
                <li><a href="#Item1">Ui Text Animation Sounds</a></li>
                <li><a href="#Item2">Hurt Sounds</a></li>
                
            </ol>
        </div>

        <div id="Item1">
          <hr>
          <h2>Ui Text Animation Sounds</h2>
          <p>First set up your SFX and Sound Events in WWise.  Export your SoundBanks.</p>
          <img src="CreateScript.png">
          <p>Right-Click on the Scripts folder in the project tab.  Create a new C# script.  Name it AnimationPostEvent.</p>
          <img src="AnimationEvent.png">
          <p>You can delete the Start and Update functions that are created by default.  Then code the OnAnimationChooseEvent function. <br> The final result should look like the image above.</p>
          <img src="SelectUiText.png">
          <p>Select WaveStartTextParent in the Hierarchy.</p>
          <img src="AnimationAddComponent.png">
          <p>Add our script AnimationPostEvent to the Gameobject.</p>
          <img src="AddAnimationTab.png">
          <p>Go to the Wwise Tab and Right-Click.  Add the Animation Tab.</p>
          <img src="TimelineAnimEventAdd.png">
          <p>Make sure WaveStartTextParent is selected in the Hierarchy.<br>
            Left click on the light blue timeline bar to see the animation.  <br>
            Take care NOT to move any of the Keyframes - they appear as Grey Diamonds<br>
            Right-Click in the grey bar just below the light blue timeline to add an Animation Event</p>
          <img src="SelectFunction.png">
          <p>In the Inspector - Click on the function dropdown and choose OnAnimationChooseEvent</p>
          <img src="StringEventName.png">
          <p>Type the name of the Wwise event you want to play in the String text box.<br>
          My Event is called WaveStart1</p>
        </div>

        <div id="Item2">
          <hr>
          <h2>Hurt Sounds</h2>
          <p>First set up your Hurt SFX Switch and Sound Event in WWise.  Export your SoundBanks.</p>
          <img src="TakeDamage.png">
          <p>Beneath the Death() function add the Else block and the PlayHurtSound() function call.<br>
          It will be highlighted pink for the time being.  Don't Panic.</p>
          <img src="PlayHurtSound.png">
          <p>After the closing } bracket for the TakeDamage() function code the PlayHurtSound() function as in the image above.<br>
          This looks very similar to our PlayDeathSound Function</p>
          <p>Make sure the string in your AkSoundEngine.SetSwitch function matches your switch in Wwise.  Mine is called "EnemyHurt"</p>
          <p>Make sure the string in your AkSoundEngine.PostEvent matches your Switch Container event in Wwise.  Mine is called "Play_EnemyHurtSwitch"</p>
          <img src="HurtTimeVariables.png">
          <p>While playing the game the Hurt sounds played too often for my taste.<br>
          so I added some code to limit how often they will play.  Add the floats <br>
          timeBetweenHurtSound and timeRemainingBetweenHurtSounds at the top of your<br>
          EnemyHealth script to start this process.</p>
          <img src="HurtTimeCountDown.png">
          <p>Next we need to add a function to our Update() function that will countdown the time<br>
          until the next hurt sound can play.</p>
          <img src="HurtTimePlay.png">
          <p>If our remaining hurt time is less than zero we will allow our Hurt Sound to play.<br></p>
          <img src="HurtTimeSetVar.png">
          <p>When we play our hurt sound we reset our timer until the next hurt sound can play.</p>
          <img src="HurtTimeInspector.png">
          <p>Now we can set how long we want to wait in between Hurt sounds in the inspector.<br>
          Make sure you do this for all the enemies or you might get a red error</p>
          <hr>
        </div>

        

    </div>
  </body>
</html>